import{G as R,r as T,p as e,aH as b,T as w,a$ as u,P as O,ay as S}from"./index-Cw3xRKpc.js";import{D as E}from"./download-B8XL5QGf.js";const C=R.injectEndpoints({endpoints:s=>({getSalesReport:s.query({query:a=>({url:"reports/sales",method:"get",params:a}),providesTags:[{type:"Reports",id:"SALES_REPORT"}]}),getProductReport:s.query({query:a=>({url:"reports/products",method:"get",params:a}),providesTags:[{type:"Reports",id:"PRODUCT_REPORT"}]}),getCustomerReport:s.query({query:a=>({url:"reports/customers",method:"get",params:a}),providesTags:[{type:"Reports",id:"CUSTOMER_REPORT"}]}),getInventoryReport:s.query({query:a=>({url:"reports/inventory",method:"get",params:a}),providesTags:[{type:"Reports",id:"INVENTORY_REPORT"}]})}),overrideExisting:!1}),{useGetSalesReportQuery:P,useGetProductReportQuery:q,useGetCustomerReportQuery:F}=C,_=()=>{var x,o,h,p,j,g,N;const[s,a]=T.useState({from:new Date(Date.now()-2592e6).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),{data:d,isLoading:y}=P({dateFrom:s.from,dateTo:s.to}),{data:l,isLoading:v}=q({dateFrom:s.from,dateTo:s.to}),{data:c,isLoading:f}=F({dateFrom:s.from,dateTo:s.to});if(y||v||f)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const r=((x=d==null?void 0:d.data)==null?void 0:x.summary)||{},n=((h=(o=l==null?void 0:l.data)==null?void 0:o.products)==null?void 0:h.slice(0,5))||[],m=((j=(p=c==null?void 0:c.data)==null?void 0:p.customers)==null?void 0:j.slice(0,5))||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),e.jsx("p",{className:"text-gray-600",children:"Analyze your business performance"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:s.from,onChange:t=>a({...s,from:t.target.value}),className:"input"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"date",value:s.to,onChange:t=>a({...s,to:t.target.value}),className:"input"})]}),e.jsxs("button",{className:"btn btn-secondary btn-md",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-success-500",children:e.jsx(w,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",((g=r.totalRevenue)==null?void 0:g.toFixed(2))||"0.00"]})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary-500",children:e.jsx(u,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.totalOrders||0})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-warning-500",children:e.jsx(O,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Items Sold"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.totalItems||0})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:e.jsx(S,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",((N=r.averageOrderValue)==null?void 0:N.toFixed(2))||"0.00"]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Products"})}),e.jsx("div",{className:"card-content",children:n.length===0?e.jsx("p",{className:"text-gray-500",children:"No product data available"}):e.jsx("div",{className:"space-y-3",children:n.map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",i+1]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.product.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Category: ",t.product.category||"N/A"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.totalQuantity," sold"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",t.totalRevenue.toFixed(2)]})]})]},t.product._id))})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Customers"})}),e.jsx("div",{className:"card-content",children:m.length===0?e.jsx("p",{className:"text-gray-500",children:"No customer data available"}):e.jsx("div",{className:"space-y-3",children:m.map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",i+1]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.customer.displayName}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t.customer.businessType})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.totalOrders," orders"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",t.totalRevenue.toFixed(2)]})]})]},t.customer._id))})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sales Trend"})}),e.jsx("div",{className:"card-content",children:e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2",children:"Sales chart will be displayed here"}),e.jsx("p",{className:"text-sm",children:"Integration with charting library needed"})]})})})]})]})};export{_ as Reports};
