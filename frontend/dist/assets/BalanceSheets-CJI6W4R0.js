import{E as jt,aZ as yt,r as b,o as e,a3 as $,X as N,b2 as Q,b5 as xt,z as ut,x as bt,c as ft,b6 as ht,T as O,aM as z,C as pt,S as Nt,H as vt,w as ot,O as wt,N as Tt,K as Ct,R as At,M as Et,b4 as Dt}from"./index-jd7Ax_Ed.js";import{A}from"./alert-circle-yrAHCiEw.js";import{C as F}from"./check-circle-8oGxTki5.js";import{D as qt}from"./download-bwqK3ulf.js";import{P as gt}from"./pen-square-CzKMgeH3.js";import{F as Lt}from"./filter-CQLYjJyW.js";import{P as kt}from"./plus-C2o0386P.js";import{E as St}from"./eye-DMmE8Niy.js";import{T as Rt}from"./trash-2-DCbqoVbR.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=jt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Bt=yt.injectEndpoints({endpoints:s=>({generateBalanceSheet:s.mutation({query:a=>({url:"balance-sheets/generate",method:"post",data:a}),invalidatesTags:[{type:"Reports",id:"BALANCE_SHEETS"}]}),getBalanceSheets:s.query({query:a=>({url:"balance-sheets",method:"get",params:a}),providesTags:a=>{var l,i;return(l=a==null?void 0:a.data)!=null&&l.balanceSheets||a!=null&&a.balanceSheets?[...(((i=a.data)==null?void 0:i.balanceSheets)||a.balanceSheets).map(({_id:g,id:n})=>({type:"Reports",id:g||n})),{type:"Reports",id:"BALANCE_SHEETS"}]:[{type:"Reports",id:"BALANCE_SHEETS"}]}}),getBalanceSheet:s.query({query:a=>({url:`balance-sheets/${a}`,method:"get"}),providesTags:(a,l,i)=>[{type:"Reports",id:i}]}),updateBalanceSheet:s.mutation({query:({id:a,...l})=>({url:`balance-sheets/${a}`,method:"put",data:l}),invalidatesTags:(a,l,{id:i})=>[{type:"Reports",id:i},{type:"Reports",id:"BALANCE_SHEETS"}]}),updateBalanceSheetStatus:s.mutation({query:({id:a,...l})=>({url:`balance-sheets/${a}/status`,method:"put",data:l}),invalidatesTags:(a,l,{id:i})=>[{type:"Reports",id:i},{type:"Reports",id:"BALANCE_SHEETS"}]}),deleteBalanceSheet:s.mutation({query:a=>({url:`balance-sheets/${a}`,method:"delete"}),invalidatesTags:(a,l,i)=>[{type:"Reports",id:i},{type:"Reports",id:"BALANCE_SHEETS"}]}),getComparison:s.query({query:({id:a,type:l="previous"})=>({url:`balance-sheets/${a}/comparison`,method:"get",params:{type:l}}),providesTags:(a,l,{id:i})=>[{type:"Reports",id:`COMPARISON_${i}`}]}),getBalanceSheetStats:s.query({query:a=>({url:"balance-sheets/stats",method:"get",params:a}),providesTags:[{type:"Reports",id:"BALANCE_SHEETS_STATS"}]}),getLatestBalanceSheet:s.query({query:a=>({url:"balance-sheets/latest",method:"get",params:a}),providesTags:[{type:"Reports",id:"BALANCE_SHEETS_LATEST"}]}),addAuditEntry:s.mutation({query:({id:a,...l})=>({url:`balance-sheets/${a}/audit`,method:"post",data:l}),invalidatesTags:(a,l,{id:i})=>[{type:"Reports",id:i}]})}),overrideExisting:!1}),{useGetBalanceSheetsQuery:Pt,useGetBalanceSheetQuery:_t,useUpdateBalanceSheetStatusMutation:Ft,useDeleteBalanceSheetMutation:$t,useGetBalanceSheetStatsQuery:It}=Bt,Mt=({isOpen:s,onClose:a,onSuccess:l})=>{const[i,g]=b.useState({statementDate:new Date().toISOString().split("T")[0],periodType:"monthly"}),[n,f]=b.useState(!1),[h,d]=b.useState({}),j=()=>{const c={};return i.statementDate?new Date(i.statementDate)>new Date&&(c.statementDate="Statement date cannot be in the future"):c.statementDate="Statement date is required",i.periodType||(c.periodType="Period type is required"),d(c),Object.keys(c).length===0},T=async c=>{var t,y;if(c.preventDefault(),!!j()){f(!0);try{const v=await xt.generateBalanceSheet({statementDate:i.statementDate,periodType:i.periodType});ut("Balance sheet generated successfully"),l()}catch(v){console.error("Error generating balance sheet:",v),bt(((y=(t=v.response)==null?void 0:t.data)==null?void 0:y.message)||"Failed to generate balance sheet")}finally{f(!1)}}},m=(c,t)=>{g(y=>({...y,[c]:t})),h[c]&&d(y=>({...y,[c]:""}))},C=c=>{switch(c){case"monthly":return"Generate a balance sheet for the current month";case"quarterly":return"Generate a balance sheet for the current quarter";case"yearly":return"Generate a balance sheet for the current year";default:return""}},E=c=>{switch(c){case"monthly":return"2-3 minutes";case"quarterly":return"3-5 minutes";case"yearly":return"5-10 minutes";default:return"2-3 minutes"}};return s?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg mr-3",children:e.jsx($,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Generate Balance Sheet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create a new financial position statement"})]})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",disabled:n,children:e.jsx(N,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Statement Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:i.statementDate,onChange:c=>m("statementDate",c.target.value),className:`block w-full pl-10 pr-3 py-2 border rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${h.statementDate?"border-red-300":"border-gray-300"}`,disabled:n})]}),h.statementDate&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),h.statementDate]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The date for which the balance sheet will be generated"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Period Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:i.periodType,onChange:c=>m("periodType",c.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${h.periodType?"border-red-300":"border-gray-300"}`,disabled:n,children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]}),h.periodType&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),h.periodType]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:C(i.periodType)})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(A,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-2"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsx("p",{className:"font-medium",children:"Generation Process"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[e.jsx("li",{children:"• Calculates assets from inventory, cash, and receivables"}),e.jsx("li",{children:"• Determines liabilities from payables and debt"}),e.jsx("li",{children:"• Computes equity from capital and retained earnings"}),e.jsxs("li",{children:["• Estimated time: ",E(i.periodType)]})]})]})]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n,children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):"Generate Balance Sheet"})]})]})]})}):null},Ut=({balanceSheet:s,isOpen:a,onClose:l,onStatusUpdate:i,isLoading:g})=>{var I,M,U,G,q,x,w,L,k,r,u,S,R,B,P,Y,K,X,Z,J,V,W,ee,se,te,ae,le,re,ie,ne,de,ce,oe,me,xe,ue,he,pe,ge,je,ye,be,fe,Ne,ve,we,Te,Ce,Ae,Ee,De,qe,Le,ke,Se,Re,Be,Pe,_e,Fe,$e,Ie,Me,Ue,Ge,Oe,ze,He,Qe,Ye,Ke,Xe,Ze,Je,Ve,We,es,ss,ts,as,ls,rs,is,ns,ds,cs,os,ms,xs,us,hs,ps,gs,js,ys,bs,fs,Ns,vs,ws,Ts,Cs,As,Es,Ds,qs,Ls,ks,Ss,Rs,Bs,Ps,_s,Fs,$s,Is,Ms,Us,Gs,Os,zs,Hs,Qs,Ys,Ks,Xs,Zs,Js,Vs,Ws,et,st,tt,at,lt,rt,it,nt,dt,ct;const[n,f]=b.useState("overview"),[h,d]=b.useState(!1),[j,T]=b.useState({status:"",notes:""}),{data:m,isLoading:C}=ft(["balance-sheet-comparison",s==null?void 0:s._id],()=>xt.getComparison(s._id,"previous"),{enabled:a&&!!s,onError:o=>{console.error("Error fetching comparison data:",o)}}),E=o=>{switch(o){case"draft":return e.jsx(gt,{className:"h-4 w-4 text-gray-500"});case"review":return e.jsx(pt,{className:"h-4 w-4 text-yellow-500"});case"approved":return e.jsx(F,{className:"h-4 w-4 text-green-500"});case"final":return e.jsx(F,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(A,{className:"h-4 w-4 text-gray-500"})}},c=o=>{switch(o){case"draft":return"bg-gray-100 text-gray-800";case"review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"final":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},t=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(o||0),y=o=>`${(o||0).toFixed(1)}%`,v=o=>{o.preventDefault(),i(j.status,j.notes),d(!1),T({status:"",notes:""})},p=o=>o>0?e.jsx(O,{className:"h-4 w-4 text-green-500"}):o<0?e.jsx(z,{className:"h-4 w-4 text-red-500"}):e.jsx("div",{className:"h-4 w-4"}),D=o=>o>0?"text-green-600":o<0?"text-red-600":"text-gray-600";if(!a||!s)return null;const H=[{id:"overview",label:"Overview",icon:ht},{id:"assets",label:"Assets",icon:O},{id:"liabilities",label:"Liabilities",icon:z},{id:"equity",label:"Equity",icon:mt},{id:"ratios",label:"Ratios",icon:$}];return e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mr-4",children:e.jsx($,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.statementNumber}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(s.statementDate).toLocaleDateString()," •",e.jsx("span",{className:"capitalize ml-1",children:s.periodType})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c(s.status)}`,children:[E(s.status),e.jsx("span",{className:"ml-2 capitalize",children:s.status})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:e.jsx(N,{className:"h-6 w-6"})})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:H.map(o=>{const _=o.icon;return e.jsxs("button",{onClick:()=>f(o.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${n===o.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),o.label]},o.id)})})}),e.jsxs("div",{className:"space-y-6",children:[n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg mr-3",children:e.jsx(O,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Assets"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t((I=s.assets)==null?void 0:I.totalAssets)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-50 rounded-lg mr-3",children:e.jsx(z,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Liabilities"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t((M=s.liabilities)==null?void 0:M.totalLiabilities)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg mr-3",children:e.jsx(mt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Equity"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t((U=s.equity)==null?void 0:U.totalEquity)})]})]})})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${s.isBalanced?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center",children:[s.isBalanced?e.jsx(F,{className:"h-5 w-5 text-green-500 mr-2"}):e.jsx(A,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("span",{className:`font-medium ${s.isBalanced?"text-green-800":"text-red-800"}`,children:s.isBalanced?"Balance Sheet is Balanced":"Balance Sheet is Not Balanced"})]}),e.jsxs("p",{className:`text-sm mt-1 ${s.isBalanced?"text-green-700":"text-red-700"}`,children:["Assets: ",t((G=s.assets)==null?void 0:G.totalAssets)," = Liabilities: ",t((q=s.liabilities)==null?void 0:q.totalLiabilities)," + Equity: ",t((x=s.equity)==null?void 0:x.totalEquity)]})]}),m&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Comparison with Previous Period"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Assets"}),p((k=(L=(w=m.changes)==null?void 0:w.assets)==null?void 0:L.totalAssets)==null?void 0:k.change)]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t((S=(u=(r=m.changes)==null?void 0:r.assets)==null?void 0:u.totalAssets)==null?void 0:S.current)}),e.jsxs("p",{className:`text-sm ${D((P=(B=(R=m.changes)==null?void 0:R.assets)==null?void 0:B.totalAssets)==null?void 0:P.change)}`,children:[p((X=(K=(Y=m.changes)==null?void 0:Y.assets)==null?void 0:K.totalAssets)==null?void 0:X.change),e.jsxs("span",{className:"ml-1",children:[t((V=(J=(Z=m.changes)==null?void 0:Z.assets)==null?void 0:J.totalAssets)==null?void 0:V.change),"(",y((se=(ee=(W=m.changes)==null?void 0:W.assets)==null?void 0:ee.totalAssets)==null?void 0:se.percentageChange),")"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Liabilities"}),p((le=(ae=(te=m.changes)==null?void 0:te.liabilities)==null?void 0:ae.totalLiabilities)==null?void 0:le.change)]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t((ne=(ie=(re=m.changes)==null?void 0:re.liabilities)==null?void 0:ie.totalLiabilities)==null?void 0:ne.current)}),e.jsxs("p",{className:`text-sm ${D((oe=(ce=(de=m.changes)==null?void 0:de.liabilities)==null?void 0:ce.totalLiabilities)==null?void 0:oe.change)}`,children:[p((ue=(xe=(me=m.changes)==null?void 0:me.liabilities)==null?void 0:xe.totalLiabilities)==null?void 0:ue.change),e.jsxs("span",{className:"ml-1",children:[t((ge=(pe=(he=m.changes)==null?void 0:he.liabilities)==null?void 0:pe.totalLiabilities)==null?void 0:ge.change),"(",y((be=(ye=(je=m.changes)==null?void 0:je.liabilities)==null?void 0:ye.totalLiabilities)==null?void 0:be.percentageChange),")"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Equity"}),p((ve=(Ne=(fe=m.changes)==null?void 0:fe.equity)==null?void 0:Ne.totalEquity)==null?void 0:ve.change)]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t((Ce=(Te=(we=m.changes)==null?void 0:we.equity)==null?void 0:Te.totalEquity)==null?void 0:Ce.current)}),e.jsxs("p",{className:`text-sm ${D((De=(Ee=(Ae=m.changes)==null?void 0:Ae.equity)==null?void 0:Ee.totalEquity)==null?void 0:De.change)}`,children:[p((ke=(Le=(qe=m.changes)==null?void 0:qe.equity)==null?void 0:Le.totalEquity)==null?void 0:ke.change),e.jsxs("span",{className:"ml-1",children:[t((Be=(Re=(Se=m.changes)==null?void 0:Se.equity)==null?void 0:Re.totalEquity)==null?void 0:Be.change),"(",y((Fe=(_e=(Pe=m.changes)==null?void 0:Pe.equity)==null?void 0:_e.totalEquity)==null?void 0:Fe.percentageChange),")"]})]})]})]})]})]}),n==="assets"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Assets Breakdown"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Current Assets"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cash and Cash Equivalents"}),e.jsx("span",{className:"text-sm font-medium",children:t((Me=(Ie=($e=s.assets)==null?void 0:$e.currentAssets)==null?void 0:Ie.cashAndCashEquivalents)==null?void 0:Me.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accounts Receivable"}),e.jsx("span",{className:"text-sm font-medium",children:t((Oe=(Ge=(Ue=s.assets)==null?void 0:Ue.currentAssets)==null?void 0:Ge.accountsReceivable)==null?void 0:Oe.netReceivables)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Inventory"}),e.jsx("span",{className:"text-sm font-medium",children:t((Qe=(He=(ze=s.assets)==null?void 0:ze.currentAssets)==null?void 0:He.inventory)==null?void 0:Qe.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Prepaid Expenses"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ke=(Ye=s.assets)==null?void 0:Ye.currentAssets)==null?void 0:Ke.prepaidExpenses)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Current Assets"}),e.jsx("span",{className:"text-sm font-bold",children:t((Ze=(Xe=s.assets)==null?void 0:Xe.currentAssets)==null?void 0:Ze.totalCurrentAssets)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Fixed Assets"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Property, Plant & Equipment"}),e.jsx("span",{className:"text-sm font-medium",children:t((We=(Ve=(Je=s.assets)==null?void 0:Je.fixedAssets)==null?void 0:Ve.propertyPlantEquipment)==null?void 0:We.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Less: Accumulated Depreciation"}),e.jsxs("span",{className:"text-sm font-medium",children:["(",t((ss=(es=s.assets)==null?void 0:es.fixedAssets)==null?void 0:ss.accumulatedDepreciation),")"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Net Property, Plant & Equipment"}),e.jsx("span",{className:"text-sm font-medium",children:t((as=(ts=s.assets)==null?void 0:ts.fixedAssets)==null?void 0:as.netPropertyPlantEquipment)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Intangible Assets"}),e.jsx("span",{className:"text-sm font-medium",children:t((is=(rs=(ls=s.assets)==null?void 0:ls.fixedAssets)==null?void 0:rs.intangibleAssets)==null?void 0:is.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Long-term Investments"}),e.jsx("span",{className:"text-sm font-medium",children:t((ds=(ns=s.assets)==null?void 0:ns.fixedAssets)==null?void 0:ds.longTermInvestments)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Fixed Assets"}),e.jsx("span",{className:"text-sm font-bold",children:t((os=(cs=s.assets)==null?void 0:cs.fixedAssets)==null?void 0:os.totalFixedAssets)})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-blue-900",children:"TOTAL ASSETS"}),e.jsx("span",{className:"text-lg font-bold text-blue-900",children:t((ms=s.assets)==null?void 0:ms.totalAssets)})]})})]}),n==="liabilities"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Liabilities Breakdown"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Current Liabilities"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accounts Payable"}),e.jsx("span",{className:"text-sm font-medium",children:t((hs=(us=(xs=s.liabilities)==null?void 0:xs.currentLiabilities)==null?void 0:us.accountsPayable)==null?void 0:hs.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accrued Expenses"}),e.jsx("span",{className:"text-sm font-medium",children:t((js=(gs=(ps=s.liabilities)==null?void 0:ps.currentLiabilities)==null?void 0:gs.accruedExpenses)==null?void 0:js.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Short-term Debt"}),e.jsx("span",{className:"text-sm font-medium",children:t((fs=(bs=(ys=s.liabilities)==null?void 0:ys.currentLiabilities)==null?void 0:bs.shortTermDebt)==null?void 0:fs.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Deferred Revenue"}),e.jsx("span",{className:"text-sm font-medium",children:t((vs=(Ns=s.liabilities)==null?void 0:Ns.currentLiabilities)==null?void 0:vs.deferredRevenue)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Current Liabilities"}),e.jsx("span",{className:"text-sm font-bold",children:t((Ts=(ws=s.liabilities)==null?void 0:ws.currentLiabilities)==null?void 0:Ts.totalCurrentLiabilities)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Long-term Liabilities"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Long-term Debt"}),e.jsx("span",{className:"text-sm font-medium",children:t((Es=(As=(Cs=s.liabilities)==null?void 0:Cs.longTermLiabilities)==null?void 0:As.longTermDebt)==null?void 0:Es.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Deferred Tax Liabilities"}),e.jsx("span",{className:"text-sm font-medium",children:t((qs=(Ds=s.liabilities)==null?void 0:Ds.longTermLiabilities)==null?void 0:qs.deferredTaxLiabilities)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pension Liabilities"}),e.jsx("span",{className:"text-sm font-medium",children:t((ks=(Ls=s.liabilities)==null?void 0:Ls.longTermLiabilities)==null?void 0:ks.pensionLiabilities)})]}),e.jsxs("div",{className:"flex justify_between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Long-term Liabilities"}),e.jsx("span",{className:"text-sm font-bold",children:t((Rs=(Ss=s.liabilities)==null?void 0:Ss.longTermLiabilities)==null?void 0:Rs.totalLongTermLiabilities)})]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-red-900",children:"TOTAL LIABILITIES"}),e.jsx("span",{className:"text-lg font-bold text-red-900",children:t((Bs=s.liabilities)==null?void 0:Bs.totalLiabilities)})]})})]}),n==="equity"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Equity Breakdown"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Shareholders' Equity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Common Stock"}),e.jsx("span",{className:"text-sm font-medium",children:t((_s=(Ps=s.equity)==null?void 0:Ps.contributedCapital)==null?void 0:_s.commonStock)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Preferred Stock"}),e.jsx("span",{className:"text-sm font-medium",children:t(($s=(Fs=s.equity)==null?void 0:Fs.contributedCapital)==null?void 0:$s.preferredStock)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Additional Paid-in Capital"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ms=(Is=s.equity)==null?void 0:Is.contributedCapital)==null?void 0:Ms.additionalPaidInCapital)})]}),e.jsxs("div",{className:"flex justify_between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Contributed Capital"}),e.jsx("span",{className:"text-sm font-bold",children:t((Gs=(Us=s.equity)==null?void 0:Us.contributedCapital)==null?void 0:Gs.total)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Retained Earnings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Beginning Retained Earnings"}),e.jsx("span",{className:"text-sm font-medium",children:t((zs=(Os=s.equity)==null?void 0:Os.retainedEarnings)==null?void 0:zs.beginningRetainedEarnings)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Period Earnings"}),e.jsx("span",{className:"text-sm font-medium",children:t((Qs=(Hs=s.equity)==null?void 0:Hs.retainedEarnings)==null?void 0:Qs.currentPeriodEarnings)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dividends Paid"}),e.jsxs("span",{className:"text-sm font-medium",children:["(",t((Ks=(Ys=s.equity)==null?void 0:Ys.retainedEarnings)==null?void 0:Ks.dividendsPaid),")"]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Ending Retained Earnings"}),e.jsx("span",{className:"text-sm font-bold",children:t((Zs=(Xs=s.equity)==null?void 0:Xs.retainedEarnings)==null?void 0:Zs.endingRetainedEarnings)})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-blue-900",children:"TOTAL EQUITY"}),e.jsx("span",{className:"text-lg font-bold text-blue-900",children:t((Js=s.equity)==null?void 0:Js.totalEquity)})]})})]}),n==="ratios"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Financial Ratios"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Liquidity Ratios"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((Ws=(Vs=s.financialRatios)==null?void 0:Vs.liquidity)==null?void 0:Ws.currentRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Quick Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((st=(et=s.financialRatios)==null?void 0:et.liquidity)==null?void 0:st.quickRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cash Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((at=(tt=s.financialRatios)==null?void 0:tt.liquidity)==null?void 0:at.cashRatio)||0).toFixed(2)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Leverage Ratios"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Debt-to-Equity Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((rt=(lt=s.financialRatios)==null?void 0:lt.leverage)==null?void 0:rt.debtToEquityRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Debt-to-Asset Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((nt=(it=s.financialRatios)==null?void 0:it.leverage)==null?void 0:nt.debtToAssetRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Equity Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((ct=(dt=s.financialRatios)==null?void 0:dt.leverage)==null?void 0:ct.equityRatio)||0).toFixed(2)})]})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>d(!0),className:"btn btn-secondary",disabled:g,children:"Update Status"}),e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx(qt,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]}),e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-60",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Update Status"}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Status"}),e.jsxs("select",{value:j.status,onChange:o=>T(_=>({..._,status:o.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"review",children:"Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"final",children:"Final"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{value:j.notes,onChange:o=>T(_=>({..._,notes:o.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3,placeholder:"Add any notes about this status change..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",disabled:g,children:g?"Updating...":"Update Status"})]})]})]})})]})})},Gt=({filters:s,onFilterChange:a,isLoading:l})=>{const[i,g]=b.useState(!1),n=(d,j)=>{a({[d]:j})},f=()=>{a({status:"",periodType:"",search:"",startDate:"",endDate:"",page:1})},h=s.status||s.periodType||s.search||s.startDate||s.endDate;return e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsxs("div",{className:"flex space-x-2",children:[h&&e.jsxs("button",{onClick:f,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"Clear all"]}),e.jsxs("button",{onClick:()=>g(!i),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[e.jsx(Lt,{className:"h-4 w-4 mr-1"}),i?"Hide":"Show"," advanced"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Nt,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:s.search,onChange:d=>n("search",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search statement number...",disabled:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:s.status,onChange:d=>n("status",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"review",children:"Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"final",children:"Final"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period Type"}),e.jsxs("select",{value:s.periodType,onChange:d=>n("periodType",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:"",children:"All Periods"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Page"}),e.jsxs("select",{value:s.limit,onChange:d=>n("limit",parseInt(d.target.value)),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),i&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:s.startDate,onChange:d=>n("startDate",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:s.endDate,onChange:d=>n("endDate",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l})]})]})]})]}),h&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Active Filters"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.status&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>n("status",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.periodType&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Period: ",s.periodType,e.jsx("button",{onClick:()=>n("periodType",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-green-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.search&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Search: ",s.search,e.jsx("button",{onClick:()=>n("search",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-purple-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.startDate&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["From: ",new Date(s.startDate).toLocaleDateString(),e.jsx("button",{onClick:()=>n("startDate",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-yellow-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.endDate&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["To: ",new Date(s.endDate).toLocaleDateString(),e.jsx("button",{onClick:()=>n("endDate",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-yellow-200",children:e.jsx(N,{className:"h-3 w-3"})})]})]})]})]})})},Vt=()=>{var L,k;const[s,a]=b.useState({page:1,limit:10,status:"",periodType:"",search:"",startDate:"",endDate:""}),[l,i]=b.useState(null),[g,n]=b.useState(!1),[f,h]=b.useState(!1);vt();const{data:d,isLoading:j,error:T,refetch:m}=Pt(s,{onError:r=>{ot(r,"Fetch Balance Sheets")}}),{data:C,isLoading:E}=It({startDate:s.startDate,endDate:s.endDate},{skip:!s.startDate||!s.endDate}),{data:c}=_t(l==null?void 0:l._id,{skip:!(l!=null&&l._id)}),[t]=$t(),[y]=Ft(),v=async r=>{try{await t(r).unwrap(),ut("Balance sheet deleted successfully"),m()}catch(u){ot(u,"Delete Balance Sheet")}},p=r=>{a(u=>({...u,...r,page:1}))},D=r=>{i({_id:r}),h(!0)};wt.useEffect(()=>{c!=null&&c.data&&i(c.data)},[c]);const H=(r,u="")=>{l&&updateStatusMutation.mutate({balanceSheetId:l._id,status:r,notes:u})},I=r=>{window.confirm("Are you sure you want to delete this balance sheet?")&&v(r)},M=r=>{switch(r){case"draft":return e.jsx(gt,{className:"h-4 w-4 text-gray-500"});case"review":return e.jsx(pt,{className:"h-4 w-4 text-yellow-500"});case"approved":return e.jsx(F,{className:"h-4 w-4 text-green-500"});case"final":return e.jsx(F,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(A,{className:"h-4 w-4 text-gray-500"})}},U=r=>{switch(r){case"draft":return"bg-gray-100 text-gray-800";case"review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"final":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},G=r=>{switch(r){case"monthly":return"bg-blue-100 text-blue-800";case"quarterly":return"bg-green-100 text-green-800";case"yearly":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};if(j&&!d)return e.jsx(Tt,{message:"Loading balance sheets..."});const q=((L=d==null?void 0:d.data)==null?void 0:L.balanceSheets)||[],x=((k=d==null?void 0:d.data)==null?void 0:k.pagination)||{},w=(C==null?void 0:C.data)||{};return e.jsxs(Ct,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Balance Sheets"}),e.jsx("p",{className:"text-gray-600",children:"Financial position and asset management"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>m(),className:"btn btn-secondary",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary btn-md",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Generate Balance Sheet"]})]})]}),!E&&e.jsxs(Et,{cols:{default:1,md:2,lg:4},gap:6,children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-blue-50 text-blue-600",children:e.jsx($,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Balance Sheets"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:w.totalStatements||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-green-50 text-green-600",children:e.jsx(O,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Total Assets"}),e.jsxs("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(w.averageTotalAssets||0).toLocaleString()]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-red-50 text-red-600",children:e.jsx(z,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Total Liabilities"}),e.jsxs("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(w.averageTotalLiabilities||0).toLocaleString()]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-purple-50 text-purple-600",children:e.jsx(ht,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Total Equity"}),e.jsxs("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(w.averageTotalEquity||0).toLocaleString()]})]})})]})})})]}),e.jsx(Gt,{filters:s,onFilterChange:p,isLoading:j}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Balance Sheets"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[x.total||0," total balance sheets"]})]})}),e.jsx("div",{className:"card-content p-0",children:j?e.jsx(Dt,{rows:5,cols:7}):q.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2",children:"No balance sheets found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or generate a new balance sheet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statement #"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Assets"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Equity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(r=>{var u,S,R,B,P;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.statementNumber}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Generated ",new Date((u=r.metadata)==null?void 0:u.generatedAt).toLocaleDateString()]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(r.statementDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G(r.periodType)}`,children:r.periodType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U(r.status)}`,children:[M(r.status),e.jsx("span",{className:"ml-1 capitalize",children:r.status})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",((R=(S=r.assets)==null?void 0:S.totalAssets)==null?void 0:R.toLocaleString())||"0"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",((P=(B=r.equity)==null?void 0:B.totalEquity)==null?void 0:P.toLocaleString())||"0"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>D(r._id),className:"text-blue-600 hover:text-blue-900",children:e.jsx(St,{className:"h-4 w-4"})}),r.status==="draft"&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>I(r._id),className:"text-red-600 hover:text-red-900",children:e.jsx(Rt,{className:"h-4 w-4"})})})]})})]},r._id)})})]})})}),x.pages>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>p({page:x.current-1}),disabled:!x.hasPrev,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>p({page:x.current+1}),disabled:!x.hasNext,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(x.current-1)*s.limit+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(x.current*s.limit,x.total)})," ","of"," ",e.jsx("span",{className:"font-medium",children:x.total})," ","results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>p({page:x.current-1}),disabled:!x.hasPrev,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(x.pages)].map((r,u)=>e.jsx("button",{onClick:()=>p({page:u+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x.current===u+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:u+1},u+1)),e.jsx("button",{onClick:()=>p({page:x.current+1}),disabled:!x.hasNext,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),g&&e.jsx(Mt,{isOpen:g,onClose:()=>n(!1),onSuccess:()=>{n(!1),m()}}),f&&l&&e.jsx(Ut,{balanceSheet:l,isOpen:f,onClose:()=>{h(!1),i(null)},onStatusUpdate:H,isLoading:!1})]})};export{Vt as default};
