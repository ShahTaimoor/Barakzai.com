import{E as ae,aZ as oe,r as v,c as Y,b7 as Z,o as e,aj as O,X as D,av as E,R as le,ak as U,b2 as Q,z as J,x as me,B as xe,b8 as ue,D as he,P as re,T as ie,C as ne,S as ge,H as pe,w as K,O as be,N as ye,K as je,M as fe,b4 as ve}from"./index-jd7Ax_Ed.js";import{A as p}from"./alert-circle-yrAHCiEw.js";import{H as Ne}from"./help-circle-CzH3vghz.js";import{P as W}from"./percent-CRNOU3jR.js";import{P as we}from"./pen-square-CzKMgeH3.js";import{C as ee}from"./check-circle-8oGxTki5.js";import{F as ke}from"./filter-CQLYjJyW.js";import{P as Ce}from"./plus-C2o0386P.js";import{E as De}from"./eye-DMmE8Niy.js";import{T as Te}from"./trash-2-DCbqoVbR.js";import{X as te}from"./x-circle-CN1zMonK.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=ae("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=ae("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Se=oe.injectEndpoints({endpoints:t=>({getDiscounts:t.query({query:i=>({url:"discounts",method:"get",params:i}),providesTags:i=>{var o,a;return(o=i==null?void 0:i.data)!=null&&o.discounts||i!=null&&i.discounts?[...(((a=i.data)==null?void 0:a.discounts)||i.discounts).map(({_id:b,id:l})=>({type:"Discounts",id:b||l})),{type:"Discounts",id:"LIST"}]:[{type:"Discounts",id:"LIST"}]}}),getDiscount:t.query({query:i=>({url:`discounts/${i}`,method:"get"}),providesTags:(i,o,a)=>[{type:"Discounts",id:a}]}),createDiscount:t.mutation({query:i=>({url:"discounts",method:"post",data:i}),invalidatesTags:[{type:"Discounts",id:"LIST"}]}),updateDiscount:t.mutation({query:({id:i,...o})=>({url:`discounts/${i}`,method:"put",data:o}),invalidatesTags:(i,o,{id:a})=>[{type:"Discounts",id:a},{type:"Discounts",id:"LIST"}]}),deleteDiscount:t.mutation({query:i=>({url:`discounts/${i}`,method:"delete"}),invalidatesTags:(i,o,a)=>[{type:"Discounts",id:a},{type:"Discounts",id:"LIST"}]}),toggleDiscountStatus:t.mutation({query:i=>({url:`discounts/${i}/toggle-status`,method:"put"}),invalidatesTags:(i,o,a)=>[{type:"Discounts",id:a},{type:"Discounts",id:"LIST"}]}),applyDiscount:t.mutation({query:i=>({url:"discounts/apply",method:"post",data:i}),invalidatesTags:[{type:"Discounts",id:"LIST"}]}),removeDiscount:t.mutation({query:i=>({url:"discounts/remove",method:"post",data:i}),invalidatesTags:[{type:"Discounts",id:"LIST"}]}),checkApplicableDiscounts:t.mutation({query:i=>({url:"discounts/check-applicable",method:"post",data:i})}),getDiscountByCode:t.query({query:i=>({url:`discounts/code/${i}`,method:"get"}),providesTags:(i,o,a)=>[{type:"Discounts",id:`CODE_${a}`}]}),checkCodeAvailability:t.query({query:i=>({url:`discounts/code/${i}/availability`,method:"get"})}),generateCodeSuggestions:t.mutation({query:i=>({url:"discounts/generate-code-suggestions",method:"post",data:i})}),getDiscountStats:t.query({query:i=>({url:"discounts/stats",method:"get",params:i}),providesTags:[{type:"Discounts",id:"STATS"}]}),getActiveDiscounts:t.query({query:()=>({url:"discounts/active",method:"get"}),providesTags:[{type:"Discounts",id:"ACTIVE"}]})}),overrideExisting:!1}),{useGetDiscountsQuery:Ae,useGetDiscountQuery:Fe,useDeleteDiscountMutation:Pe,useToggleDiscountStatusMutation:Oe,useGetDiscountStatsQuery:Ue}=Se,Le=({isOpen:t,onClose:i,onSuccess:o})=>{var M,r,y,$,_,se;const[a,b]=v.useState({name:"",description:"",code:"",type:"percentage",value:0,maximumDiscount:"",minimumOrderAmount:0,applicableTo:"all",applicableProducts:[],applicableCategories:[],applicableCustomers:[],customerTiers:[],businessTypes:[],usageLimit:"",usageLimitPerCustomer:"",validFrom:new Date().toISOString().split("T")[0],validUntil:"",combinableWithOtherDiscounts:!1,combinableDiscounts:[],priority:0,conditions:{minimumQuantity:1,maximumQuantity:"",daysOfWeek:[],timeOfDay:{start:"",end:""},firstTimeCustomersOnly:!1,returningCustomersOnly:!1}}),[l,f]=v.useState(!1),[n,d]=v.useState({}),[g,T]=v.useState("basic"),[k,S]=v.useState([]),[L,N]=v.useState(!1),{data:A}=Y("products",()=>xe.getProducts({limit:1e3})),{data:F}=Y("categories",()=>ue.getCategories({limit:1e3})),{data:j}=Y("customers",()=>he.getCustomers({limit:1e3})),w=[{id:"basic",label:"Basic Info",icon:O},{id:"applicability",label:"Applicability",icon:E},{id:"conditions",label:"Conditions",icon:p},{id:"advanced",label:"Advanced",icon:Ne}],m=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],V=[{value:"bronze",label:"Bronze"},{value:"silver",label:"Silver"},{value:"gold",label:"Gold"},{value:"platinum",label:"Platinum"}],B=[{value:"retail",label:"Retail"},{value:"wholesale",label:"Wholesale"},{value:"distributor",label:"Distributor"}];v.useEffect(()=>{a.name&&a.type&&z()},[a.name,a.type]);const z=async()=>{try{const s=await Z.generateCodeSuggestions(a.name,a.type);S(s.data.suggestions)}catch(s){console.error("Error generating code suggestions:",s)}},G=()=>{const s={};return a.name.trim()||(s.name="Name is required"),a.code.trim()?/^[A-Z0-9-_]+$/.test(a.code)||(s.code="Code can only contain uppercase letters, numbers, hyphens, and underscores"):s.code="Code is required",a.value<=0&&(s.value="Value must be greater than 0"),a.type==="percentage"&&a.value>100&&(s.value="Percentage cannot exceed 100%"),a.validFrom||(s.validFrom="Valid from date is required"),a.validUntil?new Date(a.validUntil)<=new Date(a.validFrom)&&(s.validUntil="Valid until date must be after valid from date"):s.validUntil="Valid until date is required",a.applicableTo==="products"&&a.applicableProducts.length===0&&(s.applicableProducts="At least one product must be selected"),a.applicableTo==="categories"&&a.applicableCategories.length===0&&(s.applicableCategories="At least one category must be selected"),a.applicableTo==="customers"&&a.applicableCustomers.length===0&&(s.applicableCustomers="At least one customer must be selected"),a.usageLimit&&a.usageLimitPerCustomer&&parseInt(a.usageLimitPerCustomer)>parseInt(a.usageLimit)&&(s.usageLimitPerCustomer="Per-customer limit cannot exceed total limit"),a.conditions.minimumQuantity&&a.conditions.maximumQuantity&&parseInt(a.conditions.minimumQuantity)>parseInt(a.conditions.maximumQuantity)&&(s.maximumQuantity="Maximum quantity cannot be less than minimum quantity"),d(s),Object.keys(s).length===0},H=async s=>{var c,u;if(s.preventDefault(),!G()){T("basic");return}f(!0);try{const C={...a,code:a.code.toUpperCase(),value:parseFloat(a.value),maximumDiscount:a.maximumDiscount?parseFloat(a.maximumDiscount):null,minimumOrderAmount:parseFloat(a.minimumOrderAmount),usageLimit:a.usageLimit?parseInt(a.usageLimit):null,usageLimitPerCustomer:a.usageLimitPerCustomer?parseInt(a.usageLimitPerCustomer):null,priority:parseInt(a.priority),conditions:{...a.conditions,minimumQuantity:parseInt(a.conditions.minimumQuantity),maximumQuantity:a.conditions.maximumQuantity?parseInt(a.conditions.maximumQuantity):null}};await Z.createDiscount(C),J("Discount created successfully"),o()}catch(C){console.error("Error creating discount:",C),me(((u=(c=C.response)==null?void 0:c.data)==null?void 0:u.message)||"Failed to create discount")}finally{f(!1)}},h=(s,c)=>{b(u=>({...u,[s]:c})),n[s]&&d(u=>({...u,[s]:""}))},P=(s,c)=>{b(u=>({...u,conditions:{...u.conditions,[s]:c}})),n[s]&&d(u=>({...u,[s]:""}))},q=(s,c)=>{b(u=>({...u,conditions:{...u.conditions,timeOfDay:{...u.conditions.timeOfDay,[s]:c}}}))},x=(s,c,u)=>{b(C=>({...C,[s]:u?[...C[s],c]:C[s].filter(X=>X!==c)}))},I=s=>{b(c=>({...c,code:s})),N(!1)},R=async s=>{if(!(s.length<3))try{(await Z.checkCodeAvailability(s)).data.available||d(u=>({...u,code:"This code is already taken"}))}catch(c){console.error("Error checking code availability:",c)}};return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mr-4",children:e.jsx(O,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Create Discount"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create a new percentage or fixed amount discount"})]})]}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",disabled:l,children:e.jsx(D,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:w.map(s=>{const c=s.icon;return e.jsxs("button",{onClick:()=>T(s.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${g===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),s.label]},s.id)})})}),e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[g==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.name,onChange:s=>h("name",s.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.name?"border-red-300":"border-gray-300"}`,placeholder:"e.g., Summer Sale 2024",disabled:l}),n.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:a.code,onChange:s=>{const c=s.target.value.toUpperCase();h("code",c),c.length>=3&&R(c)},onFocus:()=>N(!0),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.code?"border-red-300":"border-gray-300"}`,placeholder:"e.g., SUMMER2024",disabled:l}),e.jsx("button",{type:"button",onClick:z,className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",disabled:l,children:e.jsx(le,{className:"h-4 w-4"})})]}),L&&k.length>0&&e.jsx("div",{className:"mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10",children:k.map((s,c)=>e.jsx("button",{type:"button",onClick:()=>I(s),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 first:rounded-t-md last:rounded-b-md",children:s},c))}),n.code&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.code]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:s=>h("description",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3,placeholder:"Describe the discount...",disabled:l})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.type,onChange:s=>h("type",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:"percentage",children:"Percentage"}),e.jsx("option",{value:"fixed_amount",children:"Fixed Amount"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:a.type==="percentage"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:a.value,onChange:s=>h("value",parseFloat(s.target.value)||0),className:`block w-full pr-10 pl-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.value?"border-red-300":"border-gray-300"}`,placeholder:"10",disabled:l}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(W,{className:"h-4 w-4 text-gray-400"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(U,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.value,onChange:s=>h("value",parseFloat(s.target.value)||0),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.value?"border-red-300":"border-gray-300"}`,placeholder:"10.00",disabled:l})]})}),n.value&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.value]})]})]}),a.type==="percentage"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Discount Amount (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(U,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.maximumDiscount,onChange:s=>h("maximumDiscount",s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"50.00",disabled:l})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum amount that can be discounted (e.g., $50 max for 20% discount)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(U,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.minimumOrderAmount,onChange:s=>h("minimumOrderAmount",parseFloat(s.target.value)||0),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"0.00",disabled:l})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Valid From ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:a.validFrom,onChange:s=>h("validFrom",s.target.value),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.validFrom?"border-red-300":"border-gray-300"}`,disabled:l})]}),n.validFrom&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.validFrom]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Valid Until ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:a.validUntil,onChange:s=>h("validUntil",s.target.value),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.validUntil?"border-red-300":"border-gray-300"}`,disabled:l})]}),n.validUntil&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.validUntil]})]})]})]}),g==="applicability"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Applicable To ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.applicableTo,onChange:s=>h("applicableTo",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:"all",children:"All Orders"}),e.jsx("option",{value:"products",children:"Specific Products"}),e.jsx("option",{value:"categories",children:"Specific Categories"}),e.jsx("option",{value:"customers",children:"Specific Customers"})]})]}),a.applicableTo==="products"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Products"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3",children:(r=(M=A==null?void 0:A.data)==null?void 0:M.products)==null?void 0:r.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:a.applicableProducts.includes(s._id),onChange:c=>x("applicableProducts",s._id,c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsxs("span",{className:"text-sm text-gray-900",children:[s.name," (",s.category||"N/A",")"]})]},s._id))}),n.applicableProducts&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.applicableProducts]})]}),a.applicableTo==="categories"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Categories"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3",children:($=(y=F==null?void 0:F.data)==null?void 0:y.categories)==null?void 0:$.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:a.applicableCategories.includes(s._id),onChange:c=>x("applicableCategories",s._id,c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name})]},s._id))}),n.applicableCategories&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.applicableCategories]})]}),a.applicableTo==="customers"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Customers"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3",children:(se=(_=j==null?void 0:j.data)==null?void 0:_.customers)==null?void 0:se.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:a.applicableCustomers.includes(s._id),onChange:c=>x("applicableCustomers",s._id,c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsxs("span",{className:"text-sm text-gray-900",children:[s.displayName," (",s.email,")"]})]},s._id))}),n.applicableCustomers&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.applicableCustomers]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Tiers (Optional)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:V.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.customerTiers.includes(s.value),onChange:c=>x("customerTiers",s.value,c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:s.label})]},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Types (Optional)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:B.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.businessTypes.includes(s.value),onChange:c=>x("businessTypes",s.value,c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:s.label})]},s.value))})]})]}),g==="conditions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Quantity"}),e.jsx("input",{type:"number",min:"1",value:a.conditions.minimumQuantity,onChange:s=>P("minimumQuantity",parseInt(s.target.value)||1),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Quantity"}),e.jsx("input",{type:"number",min:"1",value:a.conditions.maximumQuantity,onChange:s=>P("maximumQuantity",s.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.maximumQuantity?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty for no limit",disabled:l}),n.maximumQuantity&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.maximumQuantity]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days of Week (Optional)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.conditions.daysOfWeek.includes(s.value),onChange:c=>{const u=a.conditions.daysOfWeek,C=c.target.checked?[...u,s.value]:u.filter(X=>X!==s.value);P("daysOfWeek",C)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsx("span",{className:"text-sm text-gray-900",children:s.label})]},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time of Day (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",value:a.conditions.timeOfDay.start,onChange:s=>q("start",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End Time"}),e.jsx("input",{type:"time",value:a.conditions.timeOfDay.end,onChange:s=>q("end",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Restrictions (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.conditions.firstTimeCustomersOnly,onChange:s=>P("firstTimeCustomersOnly",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsx("span",{className:"text-sm text-gray-900",children:"First-time customers only"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.conditions.returningCustomersOnly,onChange:s=>P("returningCustomersOnly",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsx("span",{className:"text-sm text-gray-900",children:"Returning customers only"})]})]})]})]}),g==="advanced"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Usage Limit"}),e.jsx("input",{type:"number",min:"1",value:a.usageLimit,onChange:s=>h("usageLimit",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Leave empty for unlimited",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit Per Customer"}),e.jsx("input",{type:"number",min:"1",value:a.usageLimitPerCustomer,onChange:s=>h("usageLimitPerCustomer",s.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.usageLimitPerCustomer?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty for unlimited",disabled:l}),n.usageLimitPerCustomer&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),n.usageLimitPerCustomer]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.combinableWithOtherDiscounts,onChange:s=>h("combinableWithOtherDiscounts",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Combinable with other discounts"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Allow this discount to be used together with other active discounts"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsx("input",{type:"number",min:"0",value:a.priority,onChange:s=>h("priority",parseInt(s.target.value)||0),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"0",disabled:l}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Higher numbers have higher priority when multiple discounts apply"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[g!=="basic"&&e.jsx("button",{type:"button",onClick:()=>{const s=w.findIndex(c=>c.id===g);s>0&&T(w[s-1].id)},className:"btn btn-secondary",disabled:l,children:"Previous"}),g!=="advanced"&&e.jsx("button",{type:"button",onClick:()=>{const s=w.findIndex(c=>c.id===g);s<w.length-1&&T(w[s+1].id)},className:"btn btn-secondary",disabled:l,children:"Next"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:i,className:"btn btn-secondary",disabled:l,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Discount"})]})]})]})]})}):null},Ie=({discount:t,isOpen:i,onClose:o,onToggleStatus:a,onDelete:b,isLoading:l})=>{var T,k,S,L,N,A,F,j,w;const f=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(m||0),n=m=>new Date(m).toLocaleDateString(),d=m=>{switch(m){case"active":return e.jsx(ee,{className:"h-4 w-4 text-green-500"});case"inactive":return e.jsx(p,{className:"h-4 w-4 text-gray-500"});case"scheduled":return e.jsx(ne,{className:"h-4 w-4 text-blue-500"});case"expired":return e.jsx(p,{className:"h-4 w-4 text-red-500"});case"exhausted":return e.jsx(p,{className:"h-4 w-4 text-orange-500"});default:return e.jsx(p,{className:"h-4 w-4 text-gray-500"})}},g=m=>{switch(m){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"exhausted":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return!i||!t?null:e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mr-4",children:e.jsx(O,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",t.code," • ",t.type.replace("_"," ")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${g(t.status)}`,children:[d(t.status),e.jsx("span",{className:"ml-2 capitalize",children:t.status})]}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:e.jsx(D,{className:"h-6 w-6"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.description||"No description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Value"}),e.jsx("div",{className:"mt-1 flex items-center",children:t.type==="percentage"?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-4 w-4 text-blue-500 mr-1"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[t.value,"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:f(t.value)})]})}),t.maximumDiscount&&t.type==="percentage"&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",f(t.maximumDiscount)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Minimum Order Amount"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.minimumOrderAmount>0?f(t.minimumOrderAmount):"No minimum"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Priority"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.priority})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Validity Period"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid From"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:n(t.validFrom)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid Until"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:n(t.validUntil)})]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Applicability"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Applicable To"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[t.applicableTo==="all"&&e.jsx(E,{className:"h-4 w-4 text-gray-400 mr-2"}),t.applicableTo==="products"&&e.jsx(re,{className:"h-4 w-4 text-gray-400 mr-2"}),t.applicableTo==="categories"&&e.jsx(O,{className:"h-4 w-4 text-gray-400 mr-2"}),t.applicableTo==="customers"&&e.jsx(E,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:t.applicableTo==="all"?"All Orders":t.applicableTo})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Combinable"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.combinableWithOtherDiscounts?"Yes":"No"})]})]}),t.applicableTo==="products"&&((T=t.applicableProducts)==null?void 0:T.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Selected Products"}),e.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto",children:t.applicableProducts.map(m=>e.jsxs("div",{className:"text-sm text-gray-900 py-1",children:["• ",m.name," (",m.category||"N/A",")"]},m._id))})]}),t.applicableTo==="categories"&&((k=t.applicableCategories)==null?void 0:k.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Selected Categories"}),e.jsx("div",{className:"mt-2",children:t.applicableCategories.map(m=>e.jsxs("div",{className:"text-sm text-gray-900 py-1",children:["• ",m.name]},m._id))})]}),((S=t.customerTiers)==null?void 0:S.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer Tiers"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.customerTiers.map(m=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:m},m))})]}),((L=t.businessTypes)==null?void 0:L.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Business Types"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.businessTypes.map(m=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 capitalize",children:m},m))})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Usage Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Usage"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(ie,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[t.currentUsage||0,t.usageLimit&&` / ${t.usageLimit}`]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Usage Limit Per Customer"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.usageLimitPerCustomer||"Unlimited"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Discount Amount"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:f(((N=t.analytics)==null?void 0:N.totalDiscountAmount)||0)})]})]}),((A=t.analytics)==null?void 0:A.lastUsed)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Last Used"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n(t.analytics.lastUsed)})]})]}),t.conditions&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Conditions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.conditions.minimumQuantity>1&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Minimum Quantity"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.conditions.minimumQuantity})]}),t.conditions.maximumQuantity&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Maximum Quantity"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.conditions.maximumQuantity})]}),((F=t.conditions.daysOfWeek)==null?void 0:F.length)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid Days"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:t.conditions.daysOfWeek.map(m=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 capitalize",children:m},m))})]}),((j=t.conditions.timeOfDay)==null?void 0:j.start)&&((w=t.conditions.timeOfDay)==null?void 0:w.end)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid Time"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[t.conditions.timeOfDay.start," - ",t.conditions.timeOfDay.end]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>a(t._id),className:"btn btn-secondary",disabled:l,children:t.isActive?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"h-4 w-4 mr-2"})," Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"})," Activate"]})}),t.currentUsage===0&&e.jsxs("button",{onClick:()=>b(t._id),className:"btn btn-secondary text-red-600 hover:text-red-800",disabled:l,children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),e.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Close"})]})]})})},_e=({filters:t,onFilterChange:i,isLoading:o})=>{const[a,b]=v.useState(!1),l=(d,g)=>{i({[d]:g})},f=()=>{i({status:"",type:"",isActive:"",search:"",validFrom:"",validUntil:"",page:1})},n=t.status||t.type||t.isActive!==""||t.search||t.validFrom||t.validUntil;return e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsxs("div",{className:"flex space-x-2",children:[n&&e.jsxs("button",{onClick:f,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center",children:[e.jsx(D,{className:"h-4 w-4 mr-1"}),"Clear all"]}),e.jsxs("button",{onClick:()=>b(!a),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),a?"Hide":"Show"," advanced"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ge,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:t.search,onChange:d=>l("search",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search name, code...",disabled:o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:t.type,onChange:d=>l("type",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"percentage",children:"Percentage"}),e.jsx("option",{value:"fixed_amount",children:"Fixed Amount"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:t.status,onChange:d=>l("status",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"exhausted",children:"Exhausted"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Page"}),e.jsxs("select",{value:t.limit,onChange:d=>l("limit",parseInt(d.target.value)),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),a&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Status"}),e.jsxs("select",{value:t.isActive,onChange:d=>l("isActive",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Active Only"}),e.jsx("option",{value:"false",children:"Inactive Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:t.validFrom,onChange:d=>l("validFrom",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:t.validUntil,onChange:d=>l("validUntil",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:t.sortBy,onChange:d=>l("sortBy",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"createdAt",children:"Created Date"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"code",children:"Code"}),e.jsx("option",{value:"type",children:"Type"}),e.jsx("option",{value:"value",children:"Value"}),e.jsx("option",{value:"priority",children:"Priority"}),e.jsx("option",{value:"validFrom",children:"Valid From"}),e.jsx("option",{value:"validUntil",children:"Valid Until"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),e.jsxs("select",{value:t.sortOrder,onChange:d=>l("sortOrder",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"desc",children:"Descending"}),e.jsx("option",{value:"asc",children:"Ascending"})]})]})]})]}),n&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Active Filters"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.type&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[t.type==="percentage"?e.jsx(W,{className:"h-3 w-3 mr-1"}):e.jsx(U,{className:"h-3 w-3 mr-1"}),"Type: ",t.type.replace("_"," "),e.jsx("button",{onClick:()=>l("type",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:e.jsx(D,{className:"h-3 w-3"})})]}),t.status&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),"Status: ",t.status,e.jsx("button",{onClick:()=>l("status",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-green-200",children:e.jsx(D,{className:"h-3 w-3"})})]}),t.isActive!==""&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Active: ",t.isActive==="true"?"Yes":"No",e.jsx("button",{onClick:()=>l("isActive",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-purple-200",children:e.jsx(D,{className:"h-3 w-3"})})]}),t.search&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Search: ",t.search,e.jsx("button",{onClick:()=>l("search",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-yellow-200",children:e.jsx(D,{className:"h-3 w-3"})})]}),t.validFrom&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["From: ",new Date(t.validFrom).toLocaleDateString(),e.jsx("button",{onClick:()=>l("validFrom",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-gray-200",children:e.jsx(D,{className:"h-3 w-3"})})]}),t.validUntil&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["To: ",new Date(t.validUntil).toLocaleDateString(),e.jsx("button",{onClick:()=>l("validUntil",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-gray-200",children:e.jsx(D,{className:"h-3 w-3"})})]})]})]})]})})},He=()=>{var R,M;const[t,i]=v.useState({page:1,limit:10,status:"",type:"",isActive:"",search:"",validFrom:"",validUntil:"",sortBy:"createdAt",sortOrder:"desc"}),[o,a]=v.useState(null),[b,l]=v.useState(!1),[f,n]=v.useState(!1);pe();const{data:d,isLoading:g,error:T,refetch:k}=Ae(t,{onError:r=>{K(r,"Fetch Discounts")}}),{data:S,isLoading:L}=Ue({startDate:t.validFrom,endDate:t.validUntil},{skip:!t.validFrom||!t.validUntil}),{data:N}=Fe(o==null?void 0:o._id,{skip:!(o!=null&&o._id)}),[A]=Oe(),[F]=Pe();be.useEffect(()=>{N!=null&&N.data&&a(N.data)},[N]);const j=r=>{i(y=>({...y,...r,page:1}))},w=r=>{a({_id:r}),n(!0)},m=async r=>{var y,$;try{const _=await A(r).unwrap();J(`Discount ${($=(y=_.data)==null?void 0:y.discount)!=null&&$.isActive?"activated":"deactivated"} successfully`),k()}catch(_){K(_,"Toggle Discount Status")}},V=async r=>{if(window.confirm("Are you sure you want to delete this discount?"))try{await F(r).unwrap(),J("Discount deleted successfully"),k()}catch(y){K(y,"Delete Discount")}},B=r=>{switch(r){case"active":return e.jsx(ee,{className:"h-4 w-4 text-green-500"});case"inactive":return e.jsx(te,{className:"h-4 w-4 text-gray-500"});case"scheduled":return e.jsx(ne,{className:"h-4 w-4 text-blue-500"});case"expired":return e.jsx(te,{className:"h-4 w-4 text-red-500"});case"exhausted":return e.jsx(p,{className:"h-4 w-4 text-orange-500"});default:return e.jsx(p,{className:"h-4 w-4 text-gray-500"})}},z=r=>{switch(r){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"exhausted":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},G=r=>r==="percentage"?e.jsx(W,{className:"h-4 w-4 text-blue-500"}):e.jsx(U,{className:"h-4 w-4 text-green-500"}),H=r=>r==="percentage"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",h=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(r),P=r=>new Date(r).toLocaleDateString();if(g&&!d)return e.jsx(ye,{message:"Loading discounts..."});const q=((R=d==null?void 0:d.data)==null?void 0:R.discounts)||[],x=((M=d==null?void 0:d.data)==null?void 0:M.pagination)||{},I=(S==null?void 0:S.data)||{};return e.jsxs(je,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Discount Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage percentage and fixed amount discounts"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>k(),className:"btn btn-secondary",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary btn-md",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Create Discount"]})]})]}),!L&&e.jsxs(fe,{cols:{default:1,md:2,lg:4},gap:6,children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-blue-50 text-blue-600",children:e.jsx(O,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Discounts"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:I.totalDiscounts||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-green-50 text-green-600",children:e.jsx(ee,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Discounts"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:I.activeDiscounts||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-purple-50 text-purple-600",children:e.jsx(ie,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Usage"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:I.totalUsage||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-yellow-50 text-yellow-600",children:e.jsx(U,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Discount Amount"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:h(I.totalDiscountAmount||0)})]})})]})})})]}),e.jsx(_e,{filters:t,onFilterChange:j,isLoading:g}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Discounts"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[x.total||0," total discounts"]})]})}),e.jsx("div",{className:"card-content p-0",children:g?e.jsx(ve,{rows:5,cols:8}):q.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(O,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2",children:"No discounts found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a new discount"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valid Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicable To"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",r.code]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H(r.type)}`,children:[G(r.type),e.jsx("span",{className:"ml-1 capitalize",children:r.type.replace("_"," ")})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[r.type==="percentage"?`${r.value}%`:h(r.value),r.maximumDiscount&&r.type==="percentage"&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Max: ",h(r.maximumDiscount)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z(r.status)}`,children:[B(r.status),e.jsx("span",{className:"ml-1 capitalize",children:r.status})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{children:r.currentUsage||0}),r.usageLimit&&e.jsxs("div",{className:"text-xs text-gray-500",children:["/ ",r.usageLimit]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{children:P(r.validFrom)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["to ",P(r.validUntil)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[r.applicableTo==="all"&&e.jsx(E,{className:"h-4 w-4 text-gray-400"}),r.applicableTo==="products"&&e.jsx(re,{className:"h-4 w-4 text-gray-400"}),r.applicableTo==="categories"&&e.jsx(O,{className:"h-4 w-4 text-gray-400"}),r.applicableTo==="customers"&&e.jsx(E,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"ml-1 capitalize",children:r.applicableTo})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>w(r._id),className:"text-blue-600 hover:text-blue-900",children:e.jsx(De,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>m(r._id),className:"text-green-600 hover:text-green-900",title:r.isActive?"Deactivate":"Activate",children:r.isActive?e.jsx(de,{className:"h-4 w-4"}):e.jsx(ce,{className:"h-4 w-4"})}),r.currentUsage===0&&e.jsx("button",{onClick:()=>V(r._id),className:"text-red-600 hover:text-red-900",children:e.jsx(Te,{className:"h-4 w-4"})})]})})]},r._id))})]})})}),x.pages>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>j({page:x.current-1}),disabled:!x.hasPrev,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>j({page:x.current+1}),disabled:!x.hasNext,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(x.current-1)*t.limit+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(x.current*t.limit,x.total)})," ","of"," ",e.jsx("span",{className:"font-medium",children:x.total})," ","results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>j({page:x.current-1}),disabled:!x.hasPrev,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(x.pages)].map((r,y)=>e.jsx("button",{onClick:()=>j({page:y+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x.current===y+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:y+1},y+1)),e.jsx("button",{onClick:()=>j({page:x.current+1}),disabled:!x.hasNext,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),b&&e.jsx(Le,{isOpen:b,onClose:()=>l(!1),onSuccess:()=>{l(!1),k()}}),f&&o&&e.jsx(Ie,{discount:o,isOpen:f,onClose:()=>{n(!1),a(null)},onToggleStatus:m,onDelete:V,isLoading:!1})]})};export{He as default};
