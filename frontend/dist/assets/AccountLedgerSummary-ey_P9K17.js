import{F as at,r as c,d as nt,y as O,p as e,S as lt,aJ as Ue,V as _,aB as Qe,a3 as Ge,bU as De,Q as Ve}from"./index-CPGRFPoA.js";import{u as ot}from"./suppliersApi-vtSX7WY2.js";import{P as ct}from"./printer-Cmw_Pmcr.js";import{D as it}from"./download-sJC695Ir.js";import{C as Ye}from"./chevron-down-DhjkiW_N.js";const dt=at.injectEndpoints({endpoints:f=>({getLedgerEntries:f.query({query:o=>({url:"account-ledger",method:"get",params:o}),providesTags:[{type:"Accounting",id:"LEDGER_ENTRIES"}]}),getAccountsList:f.query({query:()=>({url:"account-ledger/accounts",method:"get"}),providesTags:[{type:"Accounting",id:"ACCOUNTS_LIST"}]}),getAllEntries:f.query({query:o=>({url:"account-ledger/all-entries",method:"get",params:o}),providesTags:[{type:"Accounting",id:"ALL_ENTRIES"}]}),exportLedger:f.mutation({query:o=>({url:"account-ledger/all-entries",method:"get",params:o,responseType:"blob"})}),getLedgerSummary:f.query({query:o=>({url:"account-ledger/summary",method:"get",params:o}),providesTags:[{type:"Accounting",id:"LEDGER_SUMMARY"}],keepUnusedDataFor:0}),getCustomerDetailedTransactions:f.query({query:({customerId:o,...n})=>({url:`account-ledger/customer/${o}/transactions`,method:"get",params:n}),providesTags:(o,n,{customerId:N})=>[{type:"Accounting",id:`CUSTOMER_TRANSACTIONS_${N}`}]}),getSupplierDetailedTransactions:f.query({query:({supplierId:o,...n})=>({url:`account-ledger/supplier/${o}/transactions`,method:"get",params:n}),providesTags:(o,n,{supplierId:N})=>[{type:"Accounting",id:`SUPPLIER_TRANSACTIONS_${N}`}]})}),overrideExisting:!1}),{useGetLedgerSummaryQuery:xt,useGetCustomerDetailedTransactionsQuery:mt,useGetSupplierDetailedTransactionsQuery:gt}=dt,bt=()=>{var G,D,V,Y,H,J,W,K,X,Z,T,ee,te,se,re,ae,ne,le,oe,ce,ie,de,xe,me,ge,ue,pe,he,ye,fe,Ne,je,be,we,ve,Ce,Se,Ae,Le,ke,Ee,Ie,Re,$e,Pe;const o=(()=>{const t=new Date,s=new Date;return s.setMonth(t.getMonth()-1),{startDate:s.toISOString().split("T")[0],endDate:t.toISOString().split("T")[0]}})(),[n,N]=c.useState(""),[S,w]=c.useState(!1),[j,A]=c.useState(""),L=c.useRef(null),[g,q]=c.useState(""),[k,v]=c.useState(!1),[b,E]=c.useState(""),I=c.useRef(null),R=c.useRef(null),[l,B]=c.useState({startDate:o.startDate,endDate:o.endDate,search:""});c.useEffect(()=>{const t=s=>{L.current&&!L.current.contains(s.target)&&w(!1),I.current&&!I.current.contains(s.target)&&v(!1)};return(S||k)&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[S,k]);const{data:p,isLoading:ut}=nt({search:j,limit:100},{refetchOnMountOrArgChange:!0}),$=c.useMemo(()=>{var t;return((t=p==null?void 0:p.data)==null?void 0:t.customers)||(p==null?void 0:p.customers)||(p==null?void 0:p.data)||p||[]},[p]),{data:h,isLoading:pt}=ot({search:b,limit:100},{refetchOnMountOrArgChange:!0}),P=c.useMemo(()=>{var t;return((t=h==null?void 0:h.data)==null?void 0:t.suppliers)||(h==null?void 0:h.suppliers)||(h==null?void 0:h.data)||h||[]},[h]),He=c.useMemo(()=>{const t={...l};return n&&(t.customerId=n),g&&(t.supplierId=g),t},[l,n,g]),{data:i,isLoading:Je,error:We,refetch:Ke}=xt(He,{refetchOnMountOrArgChange:!0,refetchOnFocus:!0,refetchOnReconnect:!0,onError:t=>O(t,"Error fetching ledger summary")}),{data:r,isLoading:Xe}=mt({customerId:n,startDate:l.startDate,endDate:l.endDate},{skip:!n,onError:t=>O(t,"Error fetching detailed transactions")}),{data:a,isLoading:Ze}=gt({supplierId:g,startDate:l.startDate,endDate:l.endDate},{skip:!g,onError:t=>O(t,"Error fetching detailed supplier transactions")}),F=((D=(G=i==null?void 0:i.data)==null?void 0:G.customers)==null?void 0:D.summary)||[],z=((Y=(V=i==null?void 0:i.data)==null?void 0:V.suppliers)==null?void 0:Y.summary)||[];(J=(H=i==null?void 0:i.data)==null?void 0:H.customers)!=null&&J.totals,(K=(W=i==null?void 0:i.data)==null?void 0:W.suppliers)!=null&&K.totals;const C=((X=i==null?void 0:i.data)==null?void 0:X.period)||{};c.useMemo(()=>n?F.filter(t=>{var x,m;const s=((x=t.id)==null?void 0:x.toString())||((m=t._id)==null?void 0:m.toString()),u=n.toString();return s===u}):[],[F,n]);const U=c.useMemo(()=>{if(!j.trim())return $.slice(0,50);const t=j.toLowerCase();return $.filter(s=>{const u=(s.businessName||s.name||"").toLowerCase(),x=(s.email||"").toLowerCase(),m=(s.phone||"").toLowerCase();return u.includes(t)||x.includes(t)||m.includes(t)}).slice(0,50)},[$,j]);c.useMemo(()=>g?z.filter(t=>{var x,m;const s=((x=t.id)==null?void 0:x.toString())||((m=t._id)==null?void 0:m.toString()),u=g.toString();return s===u}):[],[z,g]);const Q=c.useMemo(()=>{if(!b.trim())return P.slice(0,50);const t=b.toLowerCase();return P.filter(s=>{const u=(s.companyName||s.name||"").toLowerCase(),x=(s.email||"").toLowerCase(),m=(s.phone||"").toLowerCase();return u.includes(t)||x.includes(t)||m.includes(t)}).slice(0,50)},[P,b]),M=(t,s)=>{B({...l,[t]:s})},Te=()=>{B({startDate:o.startDate,endDate:o.endDate,search:""}),N(""),A(""),q(""),E("")},et=t=>{N(t._id),A(t.businessName||t.name||""),w(!1)},tt=t=>{q(t._id),E(t.companyName||t.name||""),v(!1)},d=t=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t||0),y=t=>{if(!t)return"";const s=new Date(t),u=s.getDate().toString().padStart(2,"0"),x=s.toLocaleDateString("en-US",{month:"short"}),m=s.getFullYear().toString().slice(-2);return`${u}-${x}-${m}`},st=()=>{Ve.info("Export functionality coming soon")},rt=()=>{var m,Me,Oe,_e,qe,Be,Fe,ze;const t=R.current;if(!t){Ve.error("No content to print. Please select a customer or supplier.");return}const s=window.open("","_blank"),u=n?((Me=(m=r==null?void 0:r.data)==null?void 0:m.customer)==null?void 0:Me.name)||"Customer Receivables":((_e=(Oe=a==null?void 0:a.data)==null?void 0:Oe.supplier)==null?void 0:_e.name)||"Supplier Payables",x=n?((Be=(qe=r==null?void 0:r.data)==null?void 0:qe.customer)==null?void 0:Be.accountCode)||"":((ze=(Fe=a==null?void 0:a.data)==null?void 0:Fe.supplier)==null?void 0:ze.accountCode)||"";s.document.write(`
      <html>
        <head>
          <title>Account Ledger Summary - ${u}</title>
          <style>
            @media print {
              @page {
                size: A4 landscape;
                margin: 0.5in;
              }
              body {
                font-family: 'Inter', Arial, sans-serif;
                font-size: 11px;
                color: #111827;
                margin: 0;
                padding: 0;
              }
            }
            body {
              font-family: 'Inter', Arial, sans-serif;
              font-size: 12px;
              color: #111827;
              margin: 20px;
            }
            .print-header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #e5e7eb;
              padding-bottom: 15px;
            }
            .print-header h1 {
              font-size: 24px;
              font-weight: 700;
              margin: 0 0 5px 0;
              color: #111827;
            }
            .print-header p {
              font-size: 14px;
              color: #6b7280;
              margin: 5px 0;
            }
            .print-info {
              margin-bottom: 20px;
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 15px;
            }
            .print-info-item {
              font-size: 12px;
            }
            .print-info-label {
              font-weight: 600;
              color: #374151;
            }
            .print-info-value {
              color: #111827;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 15px;
            }
            th {
              background: #f3f4f6;
              border: 1px solid #e5e7eb;
              text-align: left;
              padding: 8px;
              font-size: 11px;
              font-weight: 600;
              color: #111827;
            }
            td {
              border: 1px solid #e5e7eb;
              padding: 8px;
              font-size: 11px;
              color: #374151;
            }
            .text-right {
              text-align: right;
            }
            .text-center {
              text-align: center;
            }
            .font-bold {
              font-weight: 700;
            }
            .bg-gray-50 {
              background-color: #f9fafb;
            }
            .bg-gray-100 {
              background-color: #f3f4f6;
            }
            .print-footer {
              margin-top: 30px;
              text-align: center;
              color: #6b7280;
              font-size: 11px;
              border-top: 1px solid #e5e7eb;
              padding-top: 15px;
            }
          </style>
        </head>
        <body>
          <div class="print-header">
            <h1>Account Ledger Summary</h1>
            <p>${u}${x?` - Account Code: ${x}`:""}</p>
            <p>Period: ${y(l.startDate)} to ${y(l.endDate)}</p>
          </div>
          ${t.innerHTML}
          <div class="print-footer">
            <p>Generated on ${new Date().toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          </div>
        </body>
      </html>
    `),s.document.close(),s.focus(),setTimeout(()=>{s.print(),s.close()},250)};return We?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Error loading ledger summary"}),e.jsx("button",{onClick:()=>Ke(),className:"btn btn-primary",children:"Retry"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Account Ledger Summary"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Customer Receivables and Supplier Payables"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:rt,className:"btn btn-secondary flex items-center gap-2",disabled:!n&&!g,title:!n&&!g?"Please select a customer or supplier to print":"Print ledger summary",children:[e.jsx(ct,{className:"h-4 w-4"}),"Print"]}),e.jsxs("button",{onClick:st,className:"btn btn-secondary flex items-center gap-2",children:[e.jsx(it,{className:"h-4 w-4"}),"Export"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative",ref:L,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Customer"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Select customer...",value:j,onChange:t=>{A(t.target.value),w(!0)},onFocus:()=>w(!0),className:"input w-full"}),e.jsx(Ye,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),S&&U.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:U.map(t=>{const s=t.businessName||t.name||"Unknown Customer";return e.jsxs("button",{onClick:()=>et(t),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${n===t._id?"bg-blue-50":""}`,children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s}),t.email&&e.jsx("div",{className:"text-xs text-gray-500",children:t.email})]},t._id)})})]})]}),e.jsxs("div",{className:"relative",ref:I,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Supplier"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Select supplier...",value:b,onChange:t=>{E(t.target.value),v(!0)},onFocus:()=>v(!0),className:"input w-full"}),e.jsx(Ye,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),k&&Q.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:Q.map(t=>{const s=t.companyName||t.name||"Unknown Supplier";return e.jsxs("button",{onClick:()=>tt(t),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${g===t._id?"bg-blue-50":""}`,children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s}),t.email&&e.jsx("div",{className:"text-xs text-gray-500",children:t.email})]},t._id)})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, phone...",value:l.search,onChange:t=>M("search",t.target.value),className:"input w-full pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:l.startDate,onChange:t=>M("startDate",t.target.value),className:"input w-full pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:l.endDate,onChange:t=>M("endDate",t.target.value),className:"input w-full pl-10"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:Te,className:"btn btn-outline w-full",children:"Clear Filters"})})]}),C.startDate&&C.endDate&&e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Period:"})," ",y(C.startDate)," to ",y(C.endDate)]})]}),Je?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(_,{})}):e.jsxs("div",{className:"space-y-6",children:[n?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-6 py-4 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:((T=(Z=r==null?void 0:r.data)==null?void 0:Z.customer)==null?void 0:T.name)||"Customer Receivables"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Account Code: ",((te=(ee=r==null?void 0:r.data)==null?void 0:ee.customer)==null?void 0:te.accountCode)||""]}),l.startDate&&l.endDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Period: ",y(l.startDate)," to ",y(l.endDate)]})]})]})})}),Xe?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(_,{})}):e.jsx("div",{className:"overflow-x-auto",ref:n?R:null,children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Voucher No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Particular"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Debits"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Credits"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Balance"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900"}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Opening Balance:"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900"}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-bold ${(((se=r==null?void 0:r.data)==null?void 0:se.openingBalance)||0)<0?"text-red-600":"text-gray-900"}`,children:d(((re=r==null?void 0:r.data)==null?void 0:re.openingBalance)||0)})]}),((ne=(ae=r==null?void 0:r.data)==null?void 0:ae.entries)==null?void 0:ne.length)===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:[e.jsx(Ge,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No transactions found for this period"})]})}):(oe=(le=r==null?void 0:r.data)==null?void 0:le.entries)==null?void 0:oe.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:y(t.date)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.voucherNo||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.particular||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.debitAmount>0?d(t.debitAmount):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.creditAmount>0?d(t.creditAmount):"-"}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-semibold ${(t.balance||0)<0?"text-red-600":"text-gray-900"}`,children:d(t.balance||0)})]},s)),((ie=(ce=r==null?void 0:r.data)==null?void 0:ce.entries)==null?void 0:ie.length)>0&&e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"Total"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:d(((xe=(de=r==null?void 0:r.data)==null?void 0:de.entries)==null?void 0:xe.reduce((t,s)=>t+(s.debitAmount||0),0))||0)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:d(((ge=(me=r==null?void 0:r.data)==null?void 0:me.entries)==null?void 0:ge.reduce((t,s)=>t+(s.creditAmount||0),0))||0)}),e.jsx("td",{className:`px-4 py-3 text-sm text-right text-gray-900 ${(((ue=r==null?void 0:r.data)==null?void 0:ue.closingBalance)||0)<0?"text-red-600":""}`,children:d(((pe=r==null?void 0:r.data)==null?void 0:pe.closingBalance)||0)})]})]})]})})]}):e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-12 text-center",children:[e.jsx(Qe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"Please select a customer from the dropdown above to view their ledger summary"})]}),g?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 px-6 py-4 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(De,{className:"h-6 w-6 text-orange-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:((ye=(he=a==null?void 0:a.data)==null?void 0:he.supplier)==null?void 0:ye.name)||"Supplier Payables"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Account Code: ",((Ne=(fe=a==null?void 0:a.data)==null?void 0:fe.supplier)==null?void 0:Ne.accountCode)||""]}),l.startDate&&l.endDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Period: ",y(l.startDate)," to ",y(l.endDate)]})]})]})})}),Ze?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(_,{})}):e.jsx("div",{className:"overflow-x-auto",ref:g&&!n?R:null,children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Voucher No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Particular"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Debits"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Credits"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Balance"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Opening Balance:"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:"-"}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-bold ${(((je=a==null?void 0:a.data)==null?void 0:je.openingBalance)||0)<0?"text-red-600":"text-gray-900"}`,children:d(((be=a==null?void 0:a.data)==null?void 0:be.openingBalance)||0)})]}),((ve=(we=a==null?void 0:a.data)==null?void 0:we.entries)==null?void 0:ve.length)===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:[e.jsx(Ge,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No transactions found for this period"})]})}):(Se=(Ce=a==null?void 0:a.data)==null?void 0:Ce.entries)==null?void 0:Se.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:y(t.date)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.voucherNo||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 max-w-md whitespace-normal break-words",children:t.particular||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.debitAmount>0?d(t.debitAmount):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.creditAmount>0?d(t.creditAmount):"-"}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-semibold ${(t.balance||0)<0?"text-red-600":"text-gray-900"}`,children:d(t.balance||0)})]},s)),((Le=(Ae=a==null?void 0:a.data)==null?void 0:Ae.entries)==null?void 0:Le.length)>0&&e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"Total"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:d(((Ee=(ke=a==null?void 0:a.data)==null?void 0:ke.entries)==null?void 0:Ee.reduce((t,s)=>t+(s.debitAmount||0),0))||0)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:d(((Re=(Ie=a==null?void 0:a.data)==null?void 0:Ie.entries)==null?void 0:Re.reduce((t,s)=>t+(s.creditAmount||0),0))||0)}),e.jsx("td",{className:`px-4 py-3 text-sm text-right text-gray-900 ${((($e=a==null?void 0:a.data)==null?void 0:$e.closingBalance)||0)<0?"text-red-600":""}`,children:d(((Pe=a==null?void 0:a.data)==null?void 0:Pe.closingBalance)||0)})]})]})]})})]}):!n&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-12 text-center",children:[e.jsx(De,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"Please select a supplier from the dropdown above to view their ledger summary"})]})]})]})};export{bt as default};
