import{G as u}from"./index-Cw3xRKpc.js";const d=u.injectEndpoints({endpoints:e=>({getProducts:e.query({query:t=>({url:"products",method:"get",params:t}),providesTags:t=>{var s;const o=((s=t==null?void 0:t.data)==null?void 0:s.products)||(t==null?void 0:t.products)||(t==null?void 0:t.items)||[];return o.length?[...o.map(({_id:r,id:a})=>({type:"Products",id:r||a})),{type:"Products",id:"LIST"}]:[{type:"Products",id:"LIST"}]}}),getProduct:e.query({query:t=>({url:`products/${t}`,method:"get"}),providesTags:(t,o,s)=>[{type:"Products",id:s}]}),createProduct:e.mutation({query:t=>({url:"products",method:"post",data:t}),invalidatesTags:[{type:"Products",id:"LIST"}]}),updateProduct:e.mutation({query:({id:t,...o})=>({url:`products/${t}`,method:"put",data:o}),invalidatesTags:(t,o,{id:s})=>[{type:"Products",id:s},{type:"Products",id:"LIST"}]}),deleteProduct:e.mutation({query:t=>({url:`products/${t}`,method:"delete"}),invalidatesTags:(t,o,s)=>[{type:"Products",id:s},{type:"Products",id:"LIST"}]}),bulkUpdateProducts:e.mutation({query:({productIds:t,updates:o})=>({url:"products/bulk",method:"put",data:{productIds:t,updates:o}}),invalidatesTags:[{type:"Products",id:"LIST"}]}),bulkDeleteProducts:e.mutation({query:({productIds:t})=>({url:"products/bulk",method:"delete",data:{productIds:t}}),invalidatesTags:[{type:"Products",id:"LIST"}]}),searchProducts:e.query({query:t=>({url:`products/search/${encodeURIComponent(t)}`,method:"get"})}),lowStock:e.query({query:()=>({url:"products/low-stock",method:"get"}),providesTags:[{type:"Products",id:"LOW_STOCK"}]}),getLastPurchasePrice:e.query({query:t=>({url:`products/${t}/last-purchase-price`,method:"get"})}),getLastPurchasePrices:e.mutation({query:t=>({url:"products/get-last-purchase-prices",method:"post",data:t})}),linkInvestors:e.mutation({query:({productId:t,investors:o})=>({url:`products/${t}/link-investors`,method:"post",data:{investors:o}}),invalidatesTags:(t,o,{productId:s})=>[{type:"Products",id:s},{type:"Products",id:"LIST"}]}),exportCSV:e.mutation({query:t=>({url:"products/export/csv",method:"post",data:{filters:t}})}),exportExcel:e.mutation({query:t=>({url:"products/export/excel",method:"post",data:{filters:t}})}),importExcel:e.mutation({query:t=>{const o=new FormData;return o.append("file",t),{url:"products/import/excel",method:"post",data:o}},invalidatesTags:[{type:"Products",id:"LIST"}]}),importCSV:e.mutation({query:t=>{const o=new FormData;return o.append("file",t),{url:"products/import/csv",method:"post",data:o}},invalidatesTags:[{type:"Products",id:"LIST"}]}),downloadFile:e.query({query:t=>({url:`products/download/${t}`,method:"get",responseType:"blob"})}),downloadTemplate:e.query({query:()=>({url:"products/template",method:"get",responseType:"blob"})})}),overrideExisting:!1}),{useGetProductsQuery:c,useCreateProductMutation:i,useUpdateProductMutation:n,useDeleteProductMutation:m,useBulkUpdateProductsMutation:y,useBulkDeleteProductsMutation:P,useLazyGetLastPurchasePriceQuery:l,useGetLastPurchasePricesMutation:h,useLinkInvestorsMutation:g,useExportCSVMutation:q,useExportExcelMutation:T,useImportExcelMutation:v,useImportCSVMutation:L}=d;export{c as a,h as b,q as c,T as d,v as e,L as f,i as g,n as h,g as i,m as j,y as k,P as l,l as u};
